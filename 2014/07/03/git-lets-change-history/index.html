<!DOCTYPE html>












  


<html class="theme-next mist use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '7.1.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  

<script type="text/javascript">
    var host = "justinyangis.me";
    if ((host == window.location.host) && (window.location.protocol != "https:"))
        window.location.protocol = "https";
</script>

  <meta name="description" content="Git是目前最为流行的版本控制系统，我们程序员几乎每天都需要跟Git打交道。再小心谨慎的人，都免不了犯错。可能在你刚刚commit之后，突然虎躯一震，大呼：“我擦，提交错了，有Bug”。幸好有了Git，幸好Git为我们提供各种强大的“后悔药”，来帮我们应对各种场景。接下来，就让我们来详细了解下吧。It‘s showtime。">
<meta name="keywords" content="justin, yang, yijie yang, iOS, Web, front-end">
<meta property="og:type" content="article">
<meta property="og:title" content="git - start to change history">
<meta property="og:url" content="https://www.justinyangis.me/2014/07/03/git-lets-change-history/index.html">
<meta property="og:site_name" content="Justin Yang">
<meta property="og:description" content="Git是目前最为流行的版本控制系统，我们程序员几乎每天都需要跟Git打交道。再小心谨慎的人，都免不了犯错。可能在你刚刚commit之后，突然虎躯一震，大呼：“我擦，提交错了，有Bug”。幸好有了Git，幸好Git为我们提供各种强大的“后悔药”，来帮我们应对各种场景。接下来，就让我们来详细了解下吧。It‘s showtime。">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://www.justinyangis.me/images/post/git_lets_change_history/time_machine.png">
<meta property="og:image" content="https://www.justinyangis.me/images/post/git_lets_change_history/git_reset.png">
<meta property="og:updated_time" content="2019-04-23T10:33:43.001Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="git - start to change history">
<meta name="twitter:description" content="Git是目前最为流行的版本控制系统，我们程序员几乎每天都需要跟Git打交道。再小心谨慎的人，都免不了犯错。可能在你刚刚commit之后，突然虎躯一震，大呼：“我擦，提交错了，有Bug”。幸好有了Git，幸好Git为我们提供各种强大的“后悔药”，来帮我们应对各种场景。接下来，就让我们来详细了解下吧。It‘s showtime。">
<meta name="twitter:image" content="https://www.justinyangis.me/images/post/git_lets_change_history/time_machine.png">





  
  
  <link rel="canonical" href="https://www.justinyangis.me/2014/07/03/git-lets-change-history/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>git - start to change history | Justin Yang</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Justin Yang</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">hello world</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-commonweal">

    
    
    
      
    

    

    <a href="/404/" rel="section"><i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br>公益 404</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.justinyangis.me/2014/07/03/git-lets-change-history/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Justin Yang">
      <meta itemprop="description" content="Blog and website of Justin Yang, blogging mainly for tech. Opinions expressed are mine.">
      <meta itemprop="image" content="/images/default_avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Justin Yang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">git - start to change history

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2014-07-03 00:00:00" itemprop="dateCreated datePublished" datetime="2014-07-03T00:00:00+08:00">2014-07-03</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/tool/" itemprop="url" rel="index"><span itemprop="name">tool</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><img src="/images/post/git_lets_change_history/time_machine.png" alt="time machine"></p>
<p>Git是目前最为流行的版本控制系统，我们程序员几乎每天都需要跟Git打交道。再小心谨慎的人，都免不了犯错。可能在你刚刚commit之后，突然虎躯一震，大呼：“我擦，提交错了，有Bug”。幸好有了Git，幸好Git为我们提供各种强大的“后悔药”，来帮我们应对各种场景。接下来，就让我们来详细了解下吧。It‘s showtime。</p>
<a id="more"></a>
<p><em>注：本文参考了《git权威指南》一书</em></p>
<h2 id="热身"><a href="#热身" class="headerlink" title="热身"></a>热身</h2><p>在我们了解Git的“后悔药”之前，为了能够达到更好的理解效果，我们先来做点热身运动，先来创建一个模拟工程：<br><figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone --mirror git://github.com/ossxp-com/hello-world.git</span><br></pre></td></tr></table></figure></p>
<p>我们先来克隆生成一个裸版本库，然后基于这个版本库，进行克隆：</p>
<figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git clone ./hello-world.git ./user1/hello-world</span><br><span class="line">Cloning into &apos;./user1/hello-world&apos;...</span><br><span class="line">done.</span><br><span class="line">Checking connectivity... done</span><br></pre></td></tr></table></figure>
<p>接下来我们就将在这个版本库中，模拟各种可能的情况。</p>
<p>在此之前，我们先来了解下这个版本库在master分支上的历史记录：<br><figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git log --graph --oneline </span><br><span class="line">*   d901dd8 Merge pull request #1 from gotgithub/patch-1</span><br><span class="line">|\  </span><br><span class="line">| * 96fc4d4 Bugfix: build target when version.h changed.</span><br><span class="line">|/  </span><br><span class="line">* 3e6070e Show version.</span><br><span class="line">* 75346b3 Hello world initialized.</span><br></pre></td></tr></table></figure></p>
<p>可以看到目前总共有4个提交。</p>
<h2 id="git-commit-–amend"><a href="#git-commit-–amend" class="headerlink" title="git commit –amend"></a>git commit –amend</h2><p>因为“单步悔棋”是经常发生，所以Git提供了一个简洁的操作-修补式提交，<code>git commit --amend</code>。用于对最新的提交进行重新提交，以修补错误的提交说明或错误的提交文件。例如：</p>
<p>首先，我们先来创建一个新的文件，并把它提交：<br><figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ echo &quot;hell world&quot; &gt;&gt; hello.txt</span><br><span class="line">$ git add hello.txt</span><br><span class="line">$ git commit -m &quot;A new commit&quot;</span><br><span class="line">[master 792bd69] A new commit</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 hello.txt</span><br></pre></td></tr></table></figure></p>
<p>通过查看log，我们可以发现现在多了一个新的commit：</p>
<figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git log --graph --oneline</span><br><span class="line">* 792bd69 A new commit</span><br><span class="line">*   d901dd8 Merge pull request #1 from gotgithub/patch-1</span><br><span class="line">|\  </span><br><span class="line">| * 96fc4d4 Bugfix: build target when version.h changed.</span><br><span class="line">|/  </span><br><span class="line">* 3e6070e Show version.</span><br><span class="line">* 75346b3 Hello world initialized.</span><br></pre></td></tr></table></figure>
<p>假如说我们漏了一个文件没有提交，并且不想放在另外一个新的commit中，那我们可以使用下面的命令：<br><figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ echo &quot;world&quot; &gt;&gt; world.txt</span><br><span class="line">$ git add world.txt </span><br><span class="line">$ git commit --amend -m &quot;Add hello.txt and world.txt&quot;</span><br><span class="line">[master 16b177c] Add hello.txt and word.txt</span><br><span class="line"> 2 files changed, 2 insertions(+)</span><br><span class="line"> create mode 100644 hello.txt</span><br><span class="line"> create mode 100644 world.txt</span><br></pre></td></tr></table></figure></p>
<p>这个时候，我们查看log的时候，可以发现之前的提交被修改了：<br><figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git log --graph --oneline</span><br><span class="line">* 16b177c Add hello.txt and word.txt</span><br><span class="line">*   d901dd8 Merge pull request #1 from gotgithub/patch-1</span><br><span class="line">|\  </span><br><span class="line">| * 96fc4d4 Bugfix: build target when version.h changed.</span><br><span class="line">|/  </span><br><span class="line">* 3e6070e Show version.</span><br><span class="line">* 75346b3 Hello world initialized.</span><br></pre></td></tr></table></figure></p>
<p>通过命令<code>git log --stat --oneline</code>，我们还可以看到在最新的提交中包含了新添加的那两个文件：<br><figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ git log --stat --oneline </span><br><span class="line">16b177c Add hello.txt and word.txt</span><br><span class="line"> hello.txt | 1 +</span><br><span class="line"> world.txt | 1 +</span><br><span class="line"> 2 files changed, 2 insertions(+)</span><br><span class="line">d901dd8 Merge pull request #1 from gotgithub/patch-1</span><br><span class="line">96fc4d4 Bugfix: build target when version.h changed.</span><br><span class="line"> src/Makefile | 3 +--</span><br><span class="line"> 1 file changed, 1 insertion(+), 2 deletions(-)</span><br><span class="line">3e6070e Show version.</span><br><span class="line"> COPYRIGHT        |  1 +</span><br><span class="line"> src/.gitignore   |  3 +++</span><br><span class="line"> src/Makefile     | 15 ++++++++++++++-</span><br><span class="line"> src/main.c       | 10 +++++++---</span><br><span class="line"> src/version.h.in |  6 ++++++</span><br><span class="line"> 5 files changed, 31 insertions(+), 4 deletions(-)</span><br><span class="line">75346b3 Hello world initialized.</span><br><span class="line"> README       | 15 +++++++++++++++</span><br><span class="line"> src/Makefile | 14 ++++++++++++++</span><br><span class="line"> src/main.c   | 29 +++++++++++++++++++++++++++++</span><br><span class="line"> 3 files changed, 58 insertions(+)</span><br></pre></td></tr></table></figure></p>
<h2 id="git-reflog"><a href="#git-reflog" class="headerlink" title="git reflog"></a>git reflog</h2><p>Git提供了一个挽救机制，通过.git/logs目录下日志文件记录了分支的变更。默认非裸版本库（也即带有工作区）都会提供分支日志功能。master分支的日志文件.git/logs/refs/heads/master，记录了master分支指向的变迁，最新的改变会追加到文件的末尾。我们可以通过git reflog命令对这个文件进行操作。</p>
<p>如果要显示这个文件的内容，我们可以通过<code>git reflog show</code>命令，比如：<br><figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git reflog show master</span><br><span class="line">16b177c master@&#123;0&#125;: commit (amend): Add hello.txt and word.txt</span><br><span class="line">792bd69 master@&#123;1&#125;: commit: A new commit</span><br><span class="line">d901dd8 master@&#123;2&#125;: clone: from /Users/justinyang/Downloads/./hello-world.git</span><br></pre></td></tr></table></figure></p>
<p>可以看到我们之前的提交和修改。</p>
<p>在<code>git reflog</code>命令的输出种提供了一个方便记忆的表达式：<refname>@{<n>}，来表示引用<refname>之前第<n>次改变时的SHA1哈希值。</n></refname></n></refname></p>
<p>根据这个文件的内容，我们就可以撤销之前提交的变更。比如我们希望删除之前提交的那两个文件的，也就是前两次的提交）：<br><figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git reset --hard head@&#123;2&#125;</span><br></pre></td></tr></table></figure></p>
<p>重置后，如果再用git reflog查看，会看到恢复HEAD的操作也记录在日志中了：<br><figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git reflog show master | head -3</span><br><span class="line">d901dd8 master@&#123;0&#125;: reset: moving to head@&#123;2&#125;</span><br><span class="line">16b177c master@&#123;1&#125;: commit (amend): Add hello.txt and word.txt</span><br><span class="line">792bd69 master@&#123;2&#125;: commit: A new commit</span><br><span class="line">d901dd8 master@&#123;3&#125;: clone: from /Users/justinyang/Downloads/./hello-world.git</span><br></pre></td></tr></table></figure></p>
<p>这个时候，版本库回到最开始的那个状态，新添加的文件都不见了：<br><figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ls</span><br><span class="line">COPYRIGHT README src</span><br></pre></td></tr></table></figure></p>
<h2 id="git-reset"><a href="#git-reset" class="headerlink" title="git reset"></a>git reset</h2><p><code>git reset</code>重置命令是Git最常用的命令之一。有两种用法：</p>
<figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. git rest [-q] [&lt;commit&gt;] [--] &lt;paths&gt; ...</span><br><span class="line">2. git rest [--soft | --mixed | --hard | --keey] [-q] [&lt;commit&gt;]</span><br></pre></td></tr></table></figure>
<p>其中<cmmit>是可选项，可以使用引用或者提交ID，默认是HEAD的指向作为提交ID。这两种用户的区别在于，第一种用法在命令中包含路径<paths>（前面的两个连续的短线是为了避免路径和引用（或者提交ID）同名而发生冲突）。</paths></cmmit></p>
<p>第一种用法，是用指定提交(<commit>)状态下的文件(<paths>)替换掉暂存区中的文件，不会重置引用，也不会改变工作区。例如，你刚执行完<code>git add modifiedFile</code>，但后来你又不想修改modifiedFile了，那你就可以执行<code>git reset HEAD modifiedFile</code>，来取消暂存区中modifiedFile的修改。</paths></commit></p>
<p>第二种用法，则会重置引用。根据不同的选项，可以对暂存区或者工作区进行重置。</p>
<p><img src="/images/post/git_lets_change_history/git_reset.png" alt="git reset"></p>
<p><em>（注：以上图片来自《git权威指南》一书）</em></p>
<ul>
<li>使用–hard，会执行上图中的全部动作，即：<ol>
<li>替换引用的指向。引用指向新的提交ID。</li>
<li>替换暂存区。替换后，暂存区的内容和引用指向的目录树一致。</li>
<li>替换工作区。替换后，工作区的内容变得和暂存区一致，也和HEAD所指向的目录树内容相同。</li>
</ol>
</li>
<li>使用–soft，只会更改引用的指向，不改变暂存区和工作区。</li>
<li>使用–mixed（默认为–mixed），则会更改引用的指向以及重置暂存区，但是不改变工作区。</li>
</ul>
<p>git commit –amend命令实际上相当于执行了下面两条命令：<br><figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git reset --soft HEAD^</span><br><span class="line">$ git commit -e -F .git/COMMIT_EDITMSG</span><br></pre></td></tr></table></figure><br>(注：文件.git/COMMIT_EDITMSG保存了上次的提交日志。)</p>
<p>比如我们要恢复之前添加的新文件，则可以：<br><figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git reset --hard 16b177c</span><br><span class="line">HEAD is now at 16b177c Add hello.txt and word.txt</span><br><span class="line">$ ls</span><br><span class="line">COPYRIGHT README    hello.txt src       world.txt</span><br></pre></td></tr></table></figure></p>
<h2 id="git-checkout"><a href="#git-checkout" class="headerlink" title="git checkout"></a>git checkout</h2><p>HEAD可以理解成“头指针”，是当前工作区的“基础版本”，当执行提交时候，HEAD指向的提交将作为新提交的父提交。</p>
<p>在深入了解<code>git checkout</code>之前，我们先来了解下“分离头指针”状态。</p>
<p>“分离头指针”状态，指的是HEAD头指针指向了一个具体的提交ID，而不是一个引用（分支，如master）。<br>在“分离头指针”模式下进行的测试提交除了使用提交ID访问之外，不能通过master分支或者其他引用访问到。</p>
<p>我们可以通过<code>git merge detachedID</code>来将在“分离头指针”状态下的提交合并到当前的分支上。</p>
<p>git checkout命令的实质是修改HEAD本身的指向，该命令不会影响分支“游标”（如master）</p>
<p><code>git checkout</code>命令的用法如下：</p>
<figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. git checkout [-q] [&lt;commit&gt;] [--] &lt;paths&gt; ..</span><br><span class="line">2. git checkout [&lt;branch&gt;]</span><br><span class="line">3. git checkout [-m] [[-b | --orphan] &lt;new_branch&gt;] [&lt;start_point&gt;]</span><br></pre></td></tr></table></figure>
<p>第一种用法，<commit>如果省略的话，就相当于是从暂存区进行检出。另外，<code>git checkout</code>的这种用法不会改变HEAD头指针，主要是用于指定版本的文件覆盖工作区中对应的文件。如果省略<commit>，则会用暂存区的文件覆盖工作区的文件，否则用指定提交中的文件覆盖暂存区和工作区中对应的文件。这里需要注意的是，<code>git reset</code>的默认值是HEAD，而<code>git checkout</code>是暂存区。因此<code>git reset</code>一般用于重置暂存区（除非是使用–hard参数，否则不重置工作区），而<code>git checkout</code>主要是用来覆盖工作区（如果<commit>不省略，也会替换暂存区中相应的文件）。</commit></commit></commit></p>
<p>第二种用法（不使用路径<paths>的用法）则会改变HEAD头指针。这种用法主要的作用就是切换到别的分支。</paths></p>
<p>第三种用法主要是创建和切换到新的分支(&lt;new_branch&gt;)，新的分支从&lt;start_point&gt;指定的提交开始创建。新分支和我们熟悉的master分支没有什么实质的不同，都是在refs/heads命名空间下的引用。</p>
<p>比如说，我们先来修改一下hello.txt的内容<br><figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ echo &quot;something&quot; &gt;&gt; hello.txt </span><br><span class="line">$ cat hello.txt </span><br><span class="line">hello world</span><br><span class="line">something</span><br></pre></td></tr></table></figure></p>
<p>然后我们可以通过<code>git checkout</code>命令从暂存区中恢复这个文件的内容：<br><figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -- hello.txt </span><br><span class="line">$ cat hello.txt </span><br><span class="line">hello world</span><br></pre></td></tr></table></figure></p>
<h2 id="git-cherry-pick"><a href="#git-cherry-pick" class="headerlink" title="git cherry-pick"></a>git cherry-pick</h2><p><code>git cherry-pick</code>， 其含义是从众多的提交中挑选出一个提交应用在当前的工作分支中。该命令需要提供一个提交ID作为参数，操作过程相当于将该提交导出为补丁文件，然后在当前HEAD上重放，形成无论内容还是提交说明都一致的提交。</p>
<p>现在，我们先来添加一个文件，并提交它：<br><figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ echo &quot;new file&quot; &gt;&gt; newFile.txt</span><br><span class="line">$ git add newFile.txt</span><br><span class="line">$ git commit -m &quot;Add another file&quot;</span><br><span class="line">[master 545e463] Add another file</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 newFile.txt</span><br></pre></td></tr></table></figure></p>
<p>这个时候查看log，可以看到提交<code>545e463</code>在提交之后<code>16b177c</code><br><figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git log --graph --oneline</span><br><span class="line">* 545e463 Add another file</span><br><span class="line">* 16b177c Add hello.txt and word.txt</span><br><span class="line">*   d901dd8 Merge pull request #1 from gotgithub/patch-1</span><br><span class="line">|\  </span><br><span class="line">| * 96fc4d4 Bugfix: build target when version.h changed.</span><br><span class="line">|/  </span><br><span class="line">* 3e6070e Show version.</span><br><span class="line">* 75346b3 Hello world initialized.</span><br></pre></td></tr></table></figure></p>
<p>如果我们想删除掉<code>16b177c</code>提交，即将<code>545e463</code>提交接在<code>d901dd8</code>提交后面的话，可以这么做：</p>
<ol>
<li>首先执行<code>git checkout</code>命令，暂时将HEAD头指针切换到<code>d901dd8</code>：</li>
</ol>
<figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout d901dd8</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>执行<code>git cherry-pick</code>命令将<code>545e463</code>提交在当前HEAD上重放：</li>
</ol>
<figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git cherry-pick 545e463</span><br><span class="line">[detached HEAD 6384d10] Add another file</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 newFile.txt</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>通过日志可以看到提交已经不在了：</li>
</ol>
<figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git log --graph --oneline</span><br><span class="line">* 6384d10 Add another file</span><br><span class="line">*   d901dd8 Merge pull request #1 from gotgithub/patch-1</span><br><span class="line">|\  </span><br><span class="line">| * 96fc4d4 Bugfix: build target when version.h changed.</span><br><span class="line">|/  </span><br><span class="line">* 3e6070e Show version.</span><br><span class="line">* 75346b3 Hello world initialized.</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>最后只需要将master分支重置到新的提交上</li>
</ol>
<figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">Switched to branch &apos;master&apos;</span><br><span class="line">$ git reset --hard HEAD@&#123;1&#125;</span><br><span class="line">HEAD is now at 6384d10 Add another file</span><br></pre></td></tr></table></figure>
<h2 id="git-rebase"><a href="#git-rebase" class="headerlink" title="git rebase"></a>git rebase</h2><p><code>git rebase</code>，是对提交执行变基操作，即可以实现将制定范围的提交“嫁接”到另外一个提交之上。其常用的用法如下：</p>
<figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1. git rebase --onto &lt;newbase&gt; &lt;since&gt; &lt;till&gt;</span><br><span class="line">2. git rebase --onto &lt;newbase&gt; &lt;since&gt;</span><br><span class="line">3. git rebase &lt;since&gt; &lt;till&gt;</span><br><span class="line">4. git rebaes &lt;since&gt;</span><br><span class="line">5. git rebase -i ...</span><br><span class="line">6. git rebase --continue</span><br><span class="line">7. git rebase --skip</span><br><span class="line">8. git rebase --abort</span><br></pre></td></tr></table></figure>
<p>前四个用法，如果把省略的参数都补上，其实就是用法1。而后三种是在变基运行过程被中断时可采用的命令-继续变基或终止等。</p>
<p>第一种用法会执行下面操作：</p>
<ol>
<li>首先会执行<code>git checkout</code>切换到<code>&lt;till&gt;</code>。因为会切换到<code>&lt;till&gt;</code>，因此如果<code>&lt;till&gt;</code>指向的不是一个分支（如master），则变基操作是在<code>detached HEAD</code>（分离头指针状态）进行的，当变基结束后，还要对master分支执行重置以实现变基结果在分支中生效。</li>
<li>将<since>..<till>所标记的提交范围写到一个临时文件中。<since>..<till>是指包括<till>的所有历史提交排除<since>以及<since>的历史提交后形成的版本范围。</since></since></till></till></since></till></since></li>
<li>将当前分支强制重置到<code>&lt;newbase&gt;</code>，也即是执行:<code>git reset --hard &lt;newbase&gt;</code>。</li>
<li>从保存在临时文件中的提交列表中，将提交逐一按顺序重新提交到重置之后的分支上。</li>
<li>如果遇到提交已经包含在分支中，则跳过该提交。</li>
<li>如果在提交过程遇到冲突，则变基过程暂停。用户解决冲突后，执行<code>git rebase --continue</code>继续变基操作，或者执行<code>git rebase --skip</code>跳过此提交，或者执行<code>git rebase --abort</code>就此终止变基操作切换到变基前的分支上。</li>
</ol>
<p>第五种用法，是执行交互式变基操作，会将<since>..<till>的提交悉数罗列在一个文件中，然后自动打开一个编辑器来编辑这个文件。可以通过修改文件的内容设定变基操作，实现删除提交、将多个提交压缩为一个提交、变更提交的顺序，以及更改历史提交的提交说明等。</till></since></p>
<p>这个文件中有5种动作：</p>
<ul>
<li>pick动作，或者简写为p，是指应用此提交</li>
<li>reword动作，或者简写为r，表示在变基时会应用此提交，但是在提交的时候允许用户修改提交说明。</li>
<li>edit动作，或者简写为e，也会在变基时应用此提交，但是会在应用后暂停变基，提示用户使用<code>git commit --amend</code>执行提交，以便对提交进行修补。当用户执行<code>git commit --amend</code>完成提交后，还需要执行<code>git rebase --continue</code>继续变基操作。用户在变基暂停状态下可以执行多次提交，从而实现把一个提交分解为多个提交。</li>
<li>squash动作，或者简写为s，会与前面的提交压缩为一个。</li>
<li>fixup动作，或者简写为f，类似squash动作，但是此提交的提交说明会被丢弃。</li>
</ul>
<p>在这里我们只演示下<code>git rebase -i</code>命令。</p>
<p>首先，我们先来查看下HEAD变更的日志：</p>
<figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ git reflog show</span><br><span class="line">6384d10 HEAD@&#123;0&#125;: reset: moving to HEAD@&#123;1&#125;</span><br><span class="line">545e463 HEAD@&#123;1&#125;: checkout: moving from 6384d10479d725dd787d431dd0c2a916a5bcc09f to master</span><br><span class="line">6384d10 HEAD@&#123;2&#125;: cherry-pick: Add another file</span><br><span class="line">d901dd8 HEAD@&#123;3&#125;: checkout: moving from master to d901dd8</span><br><span class="line">545e463 HEAD@&#123;4&#125;: commit: Add another file</span><br><span class="line">16b177c HEAD@&#123;5&#125;: reset: moving to 16b177c</span><br><span class="line">3e6070e HEAD@&#123;6&#125;: reset: moving to HEAD^</span><br><span class="line">d901dd8 HEAD@&#123;7&#125;: reset: moving to head@&#123;2&#125;</span><br><span class="line">16b177c HEAD@&#123;8&#125;: commit (amend): Add hello.txt and word.txt</span><br><span class="line">792bd69 HEAD@&#123;9&#125;: commit: A new commit</span><br><span class="line">d901dd8 HEAD@&#123;10&#125;: clone: from /Users/justinyang/Downloads/./hello-world.git</span><br></pre></td></tr></table></figure>
<p>然后将版本库恢复到HEAD@{4}的状态<br><figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git reset --hard HEAD@&#123;4&#125;</span><br><span class="line">HEAD is now at 545e463 Add another file</span><br></pre></td></tr></table></figure></p>
<p>为了更好的演示，我们再提交一个空文件：<br><figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ touch dump.txt</span><br><span class="line">$ git add dump.txt </span><br><span class="line">$ git commit -m &quot;Add a dump text&quot;</span><br><span class="line">[master 02f8a49] Add a dump text</span><br><span class="line"> 1 file changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line"> create mode 100644 dump.txt</span><br></pre></td></tr></table></figure></p>
<p>假如，我们需要删除新的<code>02f8a49</code>提交，并要把<code>545e463</code>和<code>16b177c</code>这两个提交合并，则可以执行下面这些操作：</p>
<ol>
<li><p>执行交互式变基操作：</p>
<figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase -i d901dd8</span><br></pre></td></tr></table></figure>
</li>
<li><p>自动打开编辑器。文件内容如下（省略井号开始的注释）：</p>
</li>
</ol>
<figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pick 16b177c Add hello.txt and word.txt</span><br><span class="line">pick 545e463 Add another file</span><br><span class="line">pick 02f8a49 Add a dump text</span><br></pre></td></tr></table></figure>
<ol start="3">
<li><p>修改文件，使得内容看起来像下面这样（同样省略了井号开始的注释）：</p>
<figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pick 16b177c Add hello.txt and word.txt</span><br><span class="line">squash 545e463 Add another file</span><br></pre></td></tr></table></figure>
</li>
<li><p>保存退出后，因为我们使用了<code>squash</code>动作，所以会再自动打开编辑器，可以不做任何修改，直接保存退出便可。</p>
</li>
<li><p>这样变基就会自动开始，即刻完成。显示下面的内容：</p>
<figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[detached HEAD 6c0bdde] Add hello.txt and word.txt</span><br><span class="line"> 3 files changed, 3 insertions(+)</span><br><span class="line"> create mode 100644 hello.txt</span><br><span class="line"> create mode 100644 newFile.txt</span><br><span class="line"> create mode 100644 world.txt</span><br><span class="line">Successfully rebased and updated refs/heads/master.</span><br></pre></td></tr></table></figure>
</li>
<li><p>这个时候，我们查看日志，可以看到分支master已经完成了变基：</p>
</li>
</ol>
<figure class="highlight plain"><figcaption><span>shell</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git log --graph --oneline</span><br><span class="line">* 6c0bdde Add hello.txt and word.txt</span><br><span class="line">*   d901dd8 Merge pull request #1 from gotgithub/patch-1</span><br><span class="line">|\  </span><br><span class="line">| * 96fc4d4 Bugfix: build target when version.h changed.</span><br><span class="line">|/  </span><br><span class="line">* 3e6070e Show version.</span><br><span class="line">* 75346b3 Hello world initialized.</span><br></pre></td></tr></table></figure>
<h2 id="Appendix"><a href="#Appendix" class="headerlink" title="Appendix"></a>Appendix</h2><p>Git提供了很多方法可以方便地访问Git库中的对象：</p>
<ul>
<li>使用master代表分支master中最新的提交，也可以使用全称refs/heads/master或者heads/master</li>
<li>使用HEAD代表版本库中最近的一次提交</li>
<li>符号^可以用于指代父提交，即最近一次提交的父提交。<ul>
<li>HEAD^代表版本库中的上一次提交，即最近一次提交的父提交。</li>
<li>HEAD^^则代表HEAD^的父提交。</li>
</ul>
</li>
<li>对于一个提交有多个父提交，可以在符号^后面用数字表示是第几个父提交。例如：<ul>
<li>a573106^2的含义是提交a573106的多个父提交中的第二个父提交。</li>
<li>HEAD^^2的含义是HEAD^(HEAD^)的多个父提交中的第二个父提交。</li>
</ul>
</li>
<li>符号~<n>也可以用于指代祖先提交。例如：<ul>
<li>a573106~5即相当于a573106^^^^^。</li>
</ul>
</n></li>
<li>提交所对应的树对象，可以用类似于如下的语法访问：<ul>
<li>a573106^{tree}</li>
</ul>
</li>
<li>某一次提交对应的文件对象，可以用如下的语法访问：<ul>
<li>a573106:path/to/file</li>
</ul>
</li>
<li>暂存区中的文件对象，可以用如下的语法访问：<ul>
<li>:path/to/file</li>
</ul>
</li>
</ul>
<p>另外，值得注意的是，在本地对版本库历史进行修改后，如果你要提交到远程版本库的时候，你可以使用<code>git push origin -f</code>来强制提交修改。<br> No newline at end of file</p>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2014/06/20/java-concurrency-collection/" rel="next" title="Java Concurrency - Collection">
                <i class="fa fa-chevron-left"></i> Java Concurrency - Collection
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/02/06/ios-resource-monitor/" rel="prev" title="iOS Resource Monitor">
                iOS Resource Monitor <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/default_avatar.png" alt="Justin Yang">
            
              <p class="site-author-name" itemprop="name">Justin Yang</p>
              <div class="site-description motion-element" itemprop="description">Blog and website of Justin Yang, blogging mainly for tech. Opinions expressed are mine.</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">27</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">6</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/yang2012" title="GitHub &rarr; https://github.com/yang2012" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:justin.yang2012@gmail.com" title="E-Mail &rarr; mailto:justin.yang2012@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://twitter.com/justinyang09" title="Twitter &rarr; https://twitter.com/justinyang09" rel="noopener" target="_blank"><i class="fa fa-fw fa-twitter"></i>Twitter</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://www.facebook.com/justinyang2012" title="FB Page &rarr; https://www.facebook.com/justinyang2012" rel="noopener" target="_blank"><i class="fa fa-fw fa-facebook"></i>FB Page</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#热身"><span class="nav-number">1.</span> <span class="nav-text">热身</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-commit-–amend"><span class="nav-number">2.</span> <span class="nav-text">git commit –amend</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-reflog"><span class="nav-number">3.</span> <span class="nav-text">git reflog</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-reset"><span class="nav-number">4.</span> <span class="nav-text">git reset</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-checkout"><span class="nav-number">5.</span> <span class="nav-text">git checkout</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-cherry-pick"><span class="nav-number">6.</span> <span class="nav-text">git cherry-pick</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-rebase"><span class="nav-number">7.</span> <span class="nav-text">git rebase</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Appendix"><span class="nav-number">8.</span> <span class="nav-text">Appendix</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2013 – <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Justin Yang</span>

  

  
</div>









        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.0"></script>

  <script src="/js/motion.js?v=7.1.0"></script>



  
  


  <script src="/js/schemes/muse.js?v=7.1.0"></script>




  
  <script src="/js/scrollspy.js?v=7.1.0"></script>
<script src="/js/post-details.js?v=7.1.0"></script>



  


  <script src="/js/next-boot.js?v=7.1.0"></script>


  

  

  

  


  


  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
